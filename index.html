<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>Clock Slider</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        #clockFace {
            border: solid 1px black;
        }
    </style>
</head>

<body>
    <canvas id="clockFace" width="400" height="400"></canvas>
    <input type="range" min="0" max="3600" value="0" id="sliderTime">

    <script>
        let inputTime = document.getElementById('sliderTime');
        // console.log(inputTime.value)

        //Followed MDN Canvas Animation Tutorial to create clock
        function clock() {
            // console.log(inputTime.value)
            // var now = new Date();
            let canvas = document.getElementById('clockFace');
            var ctx = canvas.getContext('2d');
            let x = canvas.width / 2;
            let y = canvas.height / 2;
            ctx.save();
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.translate(x, y);
            // ctx.scale(0.4, 0.4);
            ctx.rotate(-Math.PI / 2);
            ctx.strokeStyle = 'black';
            ctx.fillStyle = 'white';
            ctx.lineWidth = 8;
            ctx.lineCap = 'round';

            // Hour marks
            ctx.save();
            for (var i = 0; i < 12; i++) {
                ctx.beginPath();
                ctx.rotate(Math.PI / 6);
                ctx.moveTo(150, 0);
                ctx.lineTo(170, 0);
                ctx.stroke();
            }
            ctx.restore();

            // Minute marks
            ctx.save();
            ctx.lineWidth = 5;
            for (i = 0; i < 60; i++) {
                if (i % 5 != 0) {
                    ctx.beginPath();
                    ctx.moveTo(160, 0);
                    ctx.lineTo(170, 0);
                    ctx.stroke();
                }
                ctx.rotate(Math.PI / 30);
            }
            ctx.restore();

            // let dateTest = new Date();
            // console.log(dateTest.getHours());
            // console.log(dateTest.getMinutes());
            // console.log(dateTest.getSeconds());

            var sec = inputTime.value % 60;
            var min = inputTime.value % 60;
            var hr = parseInt(inputTime.value / 60);
            console.log(inputTime.value);
            // console.log(hr);
            // hr = hr >= 12 ? hr - 12 : hr;

            ctx.fillStyle = 'black';

            // write Hours
            ctx.save();
            ctx.rotate(hr * (Math.PI / 6) + (Math.PI / 360) * min + (Math.PI / 21600) * sec);
            ctx.lineWidth = 14;
            ctx.beginPath();
            ctx.moveTo(-20, 0);
            ctx.lineTo(100, 0);
            ctx.stroke();
            ctx.restore();

            // write Minutes
            ctx.save();
            ctx.rotate((Math.PI / 30) * min + (Math.PI / 1800) * sec);
            ctx.lineWidth = 10;
            ctx.beginPath();
            ctx.moveTo(-28, 0);
            ctx.lineTo(160, 0);
            ctx.stroke();
            ctx.restore();

            // Write seconds
            // ctx.save();
            // ctx.rotate(sec * Math.PI / 30);
            // ctx.strokeStyle = '#D40000';
            // ctx.fillStyle = '#D40000';
            // ctx.lineWidth = 6;
            // ctx.beginPath();
            // ctx.moveTo(-30, 0);
            // ctx.lineTo(160, 0);
            // ctx.stroke();
            // ctx.beginPath();
            // ctx.arc(0, 0, 10, 0, Math.PI * 2, true);
            // ctx.fill();
            // ctx.beginPath();
            // ctx.arc(95, 0, 10, 0, Math.PI * 2, true);
            // ctx.stroke();
            // ctx.fillStyle = 'rgba(0, 0, 0, 0)';
            // ctx.arc(0, 0, 3, 0, Math.PI * 2, true);
            // ctx.fill();
            // ctx.restore();

            //     ctx.beginPath();
            //     ctx.lineWidth = 14;
            //     ctx.strokeStyle = '#325FA2';
            //     ctx.arc(0, 0, 142, 0, Math.PI * 2, true);
            //     ctx.stroke();

            ctx.restore();

            window.requestAnimationFrame(clock);
        }

        window.requestAnimationFrame(clock);
    </script>

    //
    <!-- <script>
        // let canvas, ctx, x, y, diameter;

        // function initClock() {
        //     canvas = document.getElementById('clockFace');
        //     ctx = canvas.getContext('2d');
        //     diameter = 300;
        //     x = canvas.width / 2;
        //     y = canvas.height / 2;

        //     updateClock();
        //     window.setInterval(updateClock, 1000);
        // }

        // function updateClock() {
        //     ctx.clearRect(0, 0, canvas.width, canvas.height);
        //     drawClockFace();

        //     let hours = 12;
        //     ctx.strokeStyle = "black";
        //     ctx.lineWidth = 2;
        //     drawHand(diameter / 3, hours * 30);

        //     let minutes = 12;
        //     ctx.strokeStyle = "black";
        //     ctx.lineWidth = 2;
        //     drawHand(diameter / 2, minutes * 6);


        // }

        // function drawClockFace() {
        //     ctx.beginPath();
        //     ctx.arc(x, y, diameter / 2, 0, 2 * Math.PI, false);
        //     ctx.strokeStyle = "black";
        //     ctx.lineWidth = 2;
        //     ctx.stroke();
        //     ctx.closePath();

        //     ctx.beginPath();
        //     ctx.arc(x, y, 5, 0, 2 * Math.PI, false);
        //     ctx.stroke = "black";
        //     ctx.fill();
        //     ctx.closePath();

        //     drawHour();
        // }

        // function drawHour() {
        //     let hours = 12;
        //     ctx.strokeStyle = "black";
        //     ctx.lineWidth = 2;

        //     while (hours > 0) {
        //         ctx.save();
        //         ctx.beginPath();
        //         ctx.translate(x, y);
        //         let angle = (hours * 30) * Math.PI / 180;
        //         ctx.rotate(angle);
        //         ctx.translate(0, -diameter / 2);

        //         ctx.save();
        //         ctx.translate(0, -10);
        //         ctx.rotate(-angle);

        //         ctx.fillText(hours, -3, 0);
        //         ctx.restore();

        //         ctx.moveTo(0, 0);
        //         ctx.lineTo(0, 10);
        //         ctx.stroke();
        //         ctx.closePath();
        //         ctx.restore();

        //         hours--;
        //     }

        //     function drawHand(length, angle) {
        //         ctx.save();
        //         ctx.beginPath();
        //         ctx.translate(x, y);
        //         ctx.rotate(-180 * Math.PI / 180);
        //         ctx.rotate(angle * Math.PI / 180);
        //         ctx.moveTo(0, 0);
        //         ctx.lineTo(0, length);
        //         ctx.closePath();
        //         ctx.restore();
        //     }
        // }

        // initClock();
    // </script> -->
</body>

</html>